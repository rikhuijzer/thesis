\chapter{Intent F1 score calculations}
\label{ch:intent_f1_score_calculations}

The \fone score calculation by~\citep{braun2017} uses micro averaging.
For two reasons this appendix focuses these calculations on intent only.
The first reason is that these results are compared against benchmarks from the \textsc{bench} project in Section~\ref{sec:benchmark_results}.
Secondly, micro averages could be skewed when the number of intents and entities differ, as described in Section~\ref{subsec:methodology}.
It is interesting to compare the differences.
This appendix lists calculations for Rasa in Table~\ref{tab:recalculations_rasa}, Watson Conversation in Table~\ref{tab:recalculations_watson} and Microsoft LUIS in Table~\ref{tab:recalculations_luis}.

\begin{table}[htbp]
    \centering
    \begin{tabular}{l l l l l l l l}
        \textbf{Corpus} & \textbf{Intent} & \textbf{True +} & \textbf{False -} & \textbf{False +} & \textbf{Prec-} & \textbf{Recall} & \textbf{$\text{F}_1$}\\
        & & & & & \textbf{ision} & & \textbf{score} \\
        \hline
        \multirow{3}{*}{Chatbot} & DepartureTime & 34 & 1 & 1 & 0.971 & &  \\
        & FindConnection & 70 & 1 & 1 & 0.986 & 0.986 & 0.986 \\
        & $\Sigma$ & 104 & 2 & 2 & 0.981 & 0.981 & \textbf{0.981} \\
        \hline
        \multirow{9}{*}{WebApps} & ChangePassword & 4 & 2 & 0 & 1 & 0.667 & 0.8 \\
        & DeleteAccount & 9 & 1 & 5 & 0.643 & 0.9 & 0.75 \\
        & DownloadVideo & 0 & 0 & 1 & 0 & &  \\
        & ExportData & 0 & 3 & 0 & & 0 &  \\
        & FilterSpam & 13 & 1 & 0 & 1 & 0.929 & 0.963 \\
        & FindAlternative & 15 & 1 & 8 & 0.652 & 0.938 & 0.769 \\
        & None & 0 & 4 & 1 & 0 & 0 &  \\
        & SyncAccounts & 3 & 3 & 0 & 1 & 0.5 & 0.667 \\
        & $\Sigma$ & 44 & 15 & 15 & 0.746 & 0.746 & \textbf{0.746} \\
        \hline
        \multirow{6}{*}{AskUbuntu} \hspace*{-3mm} & MakeUpdate & 34 & 3 & 2 & 0.944 & 0.919 & 0.931 \\
        & SetupPrinter & 13 & 0 & 2 & 0.867 & 1 & 0.929 \\
        & ShutdownComputer \hspace*{-3mm} & 14 & 0 & 6 & 0.7 & 1 & 0.824 \\
        & SRecommendation & 33 & 7 & 4 & 0.892 & 0.825 & 0.857\\
        & None & 0 & 5 & 1 & 0 & 0 \\
        & $\Sigma$ & 94 & 15 & 15 & 0.862 & 0.862 & \textbf{0.862}\\
        \hline
    \end{tabular}
    \caption{Rasa micro \fone score calculation.}
    \label{tab:recalculations_rasa}
\end{table}

\begin{table}[htbp]
    \centering
    \begin{tabular}{l l l l l l l l}
        \textbf{Corpus} & \textbf{Intent} & \textbf{True +} & \textbf{False -} & \textbf{False +} & \textbf{Prec-} & \textbf{Recall} & \textbf{$\text{F}_1$}\\
        & & & & & \textbf{ision} & & \textbf{score} \\
        \hline
        \multirow{3}{*}{Chatbot} & DepartureTime & 33 & 2 & 1 & 0.971 & 0.943 & 0.957 \\
        & FindConnection & 70 & 1 & 2 & 0.972 & 0.986 & 0.979 \\
        & $\Sigma$ & 103 & 3 & 3 & 0.972 & 0.972 & \textbf{0.972} \\
        \hline
        \multirow{9}{*}{WebApps} & ChangePassword & 5 & 1 & 0 & 1 & 0.833 & 0.909 \\
        & DeleteAccount & 9 & 1 & 3 & 0.75 & 0.9 & 0.818 \\
        & DownloadVideo & 0 & 0 & 1 & 0 & &  \\
        & ExportData & 2 & 1 & 2 & 0.5 & 0.667 & 0.572 \\
        & FilterSpam & 13 & 1 & 2 & 0.867 & 0.929 & 0.897 \\
        & FindAlternative & 15 & 1 & 1 & 0.938 & 0.938 & 0.938 \\
        & None & 0 & 4 & 1 & 0 & 0 &  \\
        & SyncAccounts & 5 & 1 & 0 & 1 & 0.833 & 0.909 \\
        & $\Sigma$ & 49 & 10 & 10 & 0.831 & 0.831 & \textbf{0.831} \\
        \hline
        \multirow{6}{*}{AskUbuntu} & MakeUpdate & 37 & 0 & 4 & 0.902 & 1 & 0.948 \\
        & SetupPrinter & 13 & 0 & 1 & 0.929 & 1 & 0.963 \\
        & ShutdownComputer & 14 & 0 & 1 & 0.929 & 1 & 0.963 \\
        & SRecommendation & 35 & 5 & 3 & 0.921 & 0.875 & 0.897\\
        & None & 1 & 4 & 1 & 0.5 & 0.2 & 0.286 \\
        & $\Sigma$ & 100 & 9 & 9 & 0.917 & 0.917 & \textbf{0.917}\\
        \hline
    \end{tabular}
    \caption{IBM Watson Conversation micro \fone score calculation.}
    \label{tab:recalculations_watson}
\end{table}

\begin{table}[htbp]
    \centering
    \begin{tabular}{l l l l l l l l}
        \textbf{Corpus} & \textbf{Intent} & \textbf{True +} & \textbf{False -} & \textbf{False +} & \textbf{Prec-} & \textbf{Recall} & \textbf{$\text{F}_1$}\\
        & & & & & \textbf{ision} & & \textbf{score} \\
        \hline
        \multirow{3}{*}{Chatbot} & DepartureTime & 34 & 1 & 1 & 0.971 & 0.971 & 0.971 \\
        & FindConnection & 70 & 1 & 1 & 0.986 & 0.986 & 0.986 \\
        & $\Sigma$ & 104 & 2 & 2 & 0.981 & 0.981 & \textbf{0.981} \\
        \hline
        \multirow{9}{*}{WebApps} & ChangePassword & 3 & 3 & 0 & 1 & 0.5 & 0.667 \\
        & DeleteAccount & 8 & 2 & 0 & 1 & 0.8 & 0.889 \\
        & DownloadVideo & 0 & 0 & 0 & & &  \\
        & ExportData & 3 & 0 & 1 & 0.75 & 1 & 0.857 \\
        & FilterSpam & 12 & 2 & 0 & 1 & 0.857 & 0.923 \\
        & FindAlternative & 14 & 2 & 2 & 0.875 & 0.875 & 0.875 \\
        & None & 3 & 1 & 8 & 0.273 & 0.75 & 0.4  \\
        & SyncAccounts & 5 & 1 & 0 & 1 & 0.833 & 0.909 \\
        & $\Sigma$ & 48 & 11 & 11 & 0.814 & 0.814 & \textbf{0.814} \\
        \hline
        \multirow{6}{*}{AskUbuntu} & MakeUpdate & 36 & 1 & 4 & 0.9 & 0.973 & 0.935 \\
        & SetupPrinter & 12 & 1 & 2 & 0.857 & 0.923 & 0.935 \\
        & ShutdownComputer & 14 & 0 & 0 & 1 & 1 & 1 \\
        & SRecommendation & 36 & 4 & 5 & 0.878 & 0.9 & 0.889\\
        & None & 0 & 5 & 0 & & 0 & \\
        & $\Sigma$ & 98 & 11 & 11 & 0.899 & 0.899 & \textbf{0.899}\\
        \hline
    \end{tabular}
    \caption{Microsoft LUIS micro \fone score calculation.}
    \label{tab:recalculations_luis}
\end{table}
